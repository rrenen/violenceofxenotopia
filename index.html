<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>V.O.X</title>
<style>
/* === Eurostile load === */
@font-face {
  font-family: 'EurostileNextExtBold';
  src: url('fonts/eurostile-bold-extended.otf') format('opentype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* Font variable */
:root {
  --font-sans: 'EurostileNextExtBold', "Helvetica Neue", "Hiragino Sans", sans-serif;
}

body {
  font-family: var(--font-sans);
  margin: 40px auto;
  max-width: 800px;
  line-height: 1.6;
  color: #222;
}
button, input, textarea, select {
  font-family: inherit;
}

header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 10px;
}
header img {
  width: 60px;
  height: 60px;
  object-fit: cover;
  border-radius: 6px;
}
h1 {
  font-size: 2.2em;
  border-bottom: 2px solid #ccc;
  padding-bottom: 0.3em;
  margin: 0 0 6px 0;
}
.subtitle {
  color: #666;
  font-size: 0.95em;
  margin-top: 0;
  margin-bottom: 20px;
}
#newPageTitle {
  padding: 8px;
  width: 60%;
  font-size: 1em;
}
button {
  padding: 8px 16px;
  margin: 5px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  background: #0044cc;
  color: white;
  font-size: 1em;
}
button:hover { background: #003399; }
ul { list-style: none; padding: 0; }
li {
  background: #f9f9f9;
  margin: 8px 0;
  padding: 10px;
  border-radius: 8px;
  border: 1px solid #ddd;
  display: flex;
  align-items: center;
  gap: 12px;
}
li:hover { background: #eef; }
a {
  color: #0044cc;               /* ‚Üê „É™„É≥„ÇØ„ÅØÈùí„ÅÆ„Åæ„Åæ */
  text-decoration: none;
  font-weight: bold;
  font-size: 1.1em;
}
a:hover { text-decoration: underline; }
img.thumb {
  width: 80px;
  height: 60px;
  object-fit: cover;
  border-radius: 6px;
  border: 1px solid #ccc;
}

/* Hamburger Menu */
#hamburgerMenu { position: fixed; top: 10px; left: 40px; z-index: 1000; }
#hamburgerBtn { font-size: 1.5em; padding: 8px 12px; cursor: pointer; }
#menuContent {
  position: fixed;
  top: 0;
  left: -250px;
  width: 250px;
  height: 100%;
  background: #fff;
  box-shadow: 2px 0 8px rgba(0,0,0,0.2);
  transition: left 0.3s;
  padding: 20px;
}
#menuContent.show { left: 0; }
#createSection { margin-top: 10px; display: none; }

/* ‚òÖ „É≠„Ç∞„Ç§„É≥ÁîªÂÉè„Éú„Çø„É≥Áî®„ÅÆÊúÄÂ∞è„Çπ„Çø„Ç§„É´Ôºà‰ªñ„ÅØ„Åù„ÅÆ„Åæ„ÅæÔºâ */
#loginBtn {
  background: transparent;
  padding: 0;           /* ÁîªÂÉè„ÅÆË¶ã„ÅüÁõÆ„ÇíÂ¥©„Åï„Å™„ÅÑ */
}
#loginBtn img {
  width: 32px;          /* ÂøÖË¶Å„Å™„Çâ„Çµ„Ç§„Ç∫Ë™øÊï¥ */
  height: 32px;
  display: block;
}
#loginBtn:hover {
  background: transparent;
  filter: brightness(0.9);
}

/* Founder Section */
#founder {
  display: flex;
  align-items: center;
  gap: 20px;
  margin-top: 40px;
  padding-top: 25px;
  border-top: 2px solid #ccc;
}
.founder-img {
  width: 120px;
  height: 120px;
  object-fit: cover;
  border-radius: 6px;
}
.founder-text {
  max-width: 500px;
}
#founder h2 {
  margin: 0 0 6px 0;
  font-size: 1.4em;
  border-bottom: 1px solid #aaa;
  padding-bottom: 3px;
}
#founder p {
  margin: 0;
  font-size: 0.95em;
  line-height: 1.5;
}

/* üì± Responsive */
@media (max-width: 600px) {
  body { margin: 20px 10px; font-size: 16px; max-width: 95%; }
  header { flex-direction: column; align-items: flex-start; gap: 4px; }
  header img { width: 45px; height: 45px; }
  h1 { font-size: 1.8em; }
  .subtitle { font-size: 0.9em; margin-bottom: 15px; }
  li { flex-direction: column; align-items: flex-start; }
  img.thumb { width: 100%; height: auto; }
  #menuContent { width: 80%; left: -80%; }
  #menuContent.show { left: 0; }
  button { width: 100%; margin-top: 8px; }

  #founder {
    flex-direction: column;
    align-items: flex-start;
  }
  .founder-img {
    width: 100%;
    height: auto;
  }
}
</style>
</head>

<body>

<header>
  <img src="VOXÔºë.jpg" alt="V.O.X logo">
  <div>
    <h1>V.O.X</h1>
    <p class="subtitle">Violence of Xenotopia</p>
  </div>
</header>

<div id="hamburgerMenu">
  <button id="hamburgerBtn">‚ò∞</button>
  <div id="menuContent">
    <!-- ‚òÖ „Åì„Åì„ÇíÁîªÂÉè„Éú„Çø„É≥„Å´Â§âÊõ¥ -->
    <button id="loginBtn" aria-label="Log in">
      <img src="images/login-icon.png" alt="Log in">
    </button>
    <button id="logoutBtn" style="display:none;">üîí Log out</button>
    <div id="createSection">
      <input type="text" id="newPageTitle" placeholder="Enter a new page title">
      <button onclick="createPage()">Ôºã Create Page</button>
    </div>
  </div>
</div>

<ul id="pageList"></ul>

<!-- Founder Section -->
<section id="founder">
  <img src="„É™„Éº.jpg" alt="Founder Photo" class="founder-img">
  <div class="founder-text">
    <h2>Founder</h2>
    <p>
      The originator of V.O.X. named Lee Jungkook.<br>
      Graduated from Seoul National University Advanced Fusion Department.
    </p>
  </div>
</section>

<script>
const EDIT_PASSWORD = "gooniesinshimokita";
let isEditMode = localStorage.getItem("wikiEditMode") === "on";
const pages = JSON.parse(localStorage.getItem("wikiPages") || "[]");

const list = document.getElementById("pageList");
const createSection = document.getElementById("createSection");
const loginBtn = document.getElementById("loginBtn");
const logoutBtn = document.getElementById("logoutBtn");

const hamburgerBtn = document.getElementById("hamburgerBtn");
const menuContent = document.getElementById("menuContent");

hamburgerBtn.onclick = () => { menuContent.classList.toggle("show"); }
window.addEventListener("click", e => {
  if(!menuContent.contains(e.target) && e.target !== hamburgerBtn){
    menuContent.classList.remove("show");
  }
});

function renderList() {
  list.innerHTML = "";
  pages.forEach(page => {
    const li = document.createElement("li");
    const img = document.createElement("img");
    img.className = "thumb";

    // „Éï„Ç°„Ç§„É´„Éë„ÇπÂèÇÁÖßÊñπÂºèÔºàpage.html ÂÅ¥„Åå "images/xxx" „Çí‰øùÂ≠òÔºâ
    const imagePath = localStorage.getItem("wikiPageImage:" + page.title);
    if (imagePath) {
      img.src = imagePath;
      img.style.display = "block";
    } else {
      img.style.display = "none";
    }

    const a = document.createElement("a");
    a.href = "#";
    a.textContent = page.title;
    a.onclick = () => openPage(page.title);
    li.appendChild(img);
    li.appendChild(a);
    list.appendChild(li);
  });
}
renderList();

function openPage(title) {
  window.location.href = "page.html?page=" + encodeURIComponent(title);
}

function createPage() {
  if(!isEditMode){ alert("You need edit permission to create a page."); return; }
  const title = document.getElementById("newPageTitle").value.trim();
  if(!title) return alert("Please enter a title.");
  if(pages.some(p => p.title === title)) return alert("A page with this title already exists.");
  pages.unshift({title});
  localStorage.setItem("wikiPages", JSON.stringify(pages));
  renderList();
  document.getElementById("newPageTitle").value = "";
}

function enterEditMode() {
  const input = prompt("Enter the password:");
  if(input === EDIT_PASSWORD){
    localStorage.setItem("wikiEditMode","on");
    isEditMode = true;
    updateUI();
    alert("Edit mode activated!");
  } else if(input) alert("Incorrect password.");
}

function logoutEditMode() {
  localStorage.removeItem("wikiEditMode");
  isEditMode = false;
  updateUI();
  alert("Edit mode ended.");
}

function updateUI() {
  createSection.style.display = isEditMode ? "block" : "none";
  loginBtn.style.display = isEditMode ? "none" : "inline-block";
  logoutBtn.style.display = isEditMode ? "inline-block" : "none";
}

loginBtn.onclick = enterEditMode;
logoutBtn.onclick = logoutEditMode;
updateUI();
</script>

</body>
</html>
