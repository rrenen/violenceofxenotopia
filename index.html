<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>V.O.X</title>

  <style>
    @font-face {
      font-family: 'EurostileNextExtBold';
      src: url('fonts/eurostile-bold-extended.otf') format('opentype');
      font-weight: 700;
      font-style: normal;
      font-display: swap;
    }

    :root {
      --font-sans: 'EurostileNextExtBold', "Helvetica Neue", "Hiragino Sans", sans-serif;
    }

    body {
      font-family: var(--font-sans);
      margin: 40px auto;
      max-width: 800px;
      line-height: 1.6;
      color: #222;
    }

    button, input {
      font-family: inherit;
    }

    header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 10px;
    }

    header img {
      width: 60px;
      height: 60px;
      object-fit: cover;
      border-radius: 6px;
    }

    h1 {
      font-size: 2.2em;
      border-bottom: 2px solid #ccc;
      padding-bottom: .3em;
      margin: 0 0 6px;
    }

    .subtitle {
      color: #666;
      font-size: .95em;
      margin-bottom: 20px;
    }

    ul {
      list-style: none;
      padding: 0;
    }

    li {
      background: #f9f9f9;
      margin: 8px 0;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ddd;
    }

    li:hover {
      background: #eef;
    }

    a {
      color: #0044cc;
      font-weight: bold;
      text-decoration: none;
      font-size: 1.1em;
    }

    a:hover {
      text-decoration: underline;
    }

    /* Hamburger */
    #hamburgerMenu {
      position: fixed;
      top: 10px;
      left: 40px;
      z-index: 1000;
    }

    #hamburgerBtn {
      font-size: 1.5em;
      padding: 8px 12px;
      cursor: pointer;
    }

    #menuContent {
      position: fixed;
      top: 0;
      left: -250px;
      width: 250px;
      height: 100%;
      background: #fff;
      box-shadow: 2px 0 8px rgba(0,0,0,.2);
      transition: left .3s;
      padding: 20px;
    }

    #menuContent.show {
      left: 0;
    }

    #createSection {
      display: none;
      margin-top: 10px;
    }

    #loginBtn {
      background: transparent;
      padding: 0;
    }

    #loginBtn img {
      width: 32px;
      height: 32px;
      display: block;
    }

    #founder {
      display: flex;
      gap: 20px;
      margin-top: 40px;
      padding-top: 25px;
      border-top: 2px solid #ccc;
    }

    .founder-img {
      width: 120px;
      height: 120px;
      object-fit: cover;
      border-radius: 6px;
    }
  </style>
</head>

<body>

<header>
  <img src="VOXï¼‘.jpg" alt="V.O.X logo">
  <div>
    <h1>V.O.X</h1>
    <p class="subtitle">Violence of Xenotopia</p>
  </div>
</header>

<div id="hamburgerMenu">
  <button id="hamburgerBtn">â˜°</button>
  <div id="menuContent">
    <button id="loginBtn">
      <img src="images/login-icon.png" alt="Log in">
    </button>
    <button id="logoutBtn" style="display:none;">ðŸ”’ Log out</button>

    <!-- ä»Šã¯éžè¡¨ç¤ºï¼ˆGitHubä¿å­˜å®Ÿè£…å¾Œã«å¾©æ´»ï¼‰ -->
    <div id="createSection">
      <input id="newPageTitle" placeholder="New page title">
      <button>Create</button>
    </div>
  </div>
</div>

<ul id="pageList"></ul>

<section id="founder">
  <img src="ãƒªãƒ¼.jpg" class="founder-img">
  <div>
    <h2>Founder</h2>
    <p>
      The originator of V.O.X. named Lee Jungkook.<br>
      Graduated from Seoul National University Advanced Fusion Department.
    </p>
  </div>
</section>

<script>
const EDIT_PASSWORD = "gooniesinshimokita";
let isEditMode = localStorage.getItem("wikiEditMode") === "on";

const list = document.getElementById("pageList");
const loginBtn = document.getElementById("loginBtn");
const logoutBtn = document.getElementById("logoutBtn");
const hamburgerBtn = document.getElementById("hamburgerBtn");
const menuContent = document.getElementById("menuContent");
const createSection = document.getElementById("createSection");

hamburgerBtn.onclick = () => {
  menuContent.classList.toggle("show");
};

window.addEventListener("click", e => {
  if (!menuContent.contains(e.target) && e.target !== hamburgerBtn) {
    menuContent.classList.remove("show");
  }
});

/* ===== GitHub JSON ã‹ã‚‰èª­ã‚€ ===== */
fetch("data/pages.json")
  .then(res => res.json())
  .then(pages => {
    list.innerHTML = "";
    pages.forEach(p => {
      const li = document.createElement("li");
      const a = document.createElement("a");
      a.textContent = p.title;
      a.href = "page.html?page=" + encodeURIComponent(p.title);
      li.appendChild(a);
      list.appendChild(li);
    });
  });

function enterEditMode() {
  const input = prompt("Enter the password:");
  if (input === EDIT_PASSWORD) {
    localStorage.setItem("wikiEditMode","on");
    isEditMode = true;
    updateUI();
  }
}

function logoutEditMode() {
  localStorage.removeItem("wikiEditMode");
  isEditMode = false;
  updateUI();
}

function updateUI() {
  createSection.style.display = isEditMode ? "block" : "none";
  loginBtn.style.display = isEditMode ? "none" : "inline-block";
  logoutBtn.style.display = isEditMode ? "inline-block" : "none";
}

loginBtn.onclick = enterEditMode;
logoutBtn.onclick = logoutEditMode;
updateUI();
</script>

</body>
</html>
